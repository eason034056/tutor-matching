# 解題聊天機器人 UI 更新說明

## 更新概述

根據開發文件 `解題聊天機器人_wireframe_開發文件.md`，我們已經重新設計了聊天機器人的UI，實現了「圖片先行」的設計理念。

## 主要改進

### 1. 三頁式設計流程

#### 首頁 (Home Page)
- **拍照/上傳選擇**：大按鈕設計，清晰的操作指引
- **使用範例**：提供具體的使用場景說明
- **簡潔的視覺設計**：符合wireframe的低保真設計

#### 提問頁 (Question Page)
- **圖片預覽**：可點擊放大的圖片顯示
- **問題輸入**：專門的文字輸入區域
- **返回導航**：清晰的頁面導航

#### 聊天詳情頁 (Chat Page)
- **現代化聊天界面**：圓角氣泡設計
- **圖片支援**：在聊天中顯示題目圖片
- **快捷操作**：展開/收合、重新解釋、比較差異
- **Markdown渲染**：支援數學公式和格式化文字

### 2. 技術實現

#### 組件架構
```
app/solver/page.tsx          # 主頁面邏輯
components/solver-chat.tsx   # 聊天組件
components/ui/               # UI基礎組件
```

#### 狀態管理
- `PageState`: 控制三個頁面的切換
- `UploadState`: 管理上傳和處理狀態
- `Message[]`: 聊天記錄管理

#### 樣式系統
- **Tailwind CSS**: 響應式設計
- **Prose樣式**: Markdown渲染支援
- **KaTeX**: 數學公式渲染
- **Lucide React**: 圖標系統

### 3. 核心功能

#### 圖片處理
- 支援拍照和相簿上傳
- 圖片預覽和放大功能
- 自動圖片壓縮和優化

#### 聊天功能
- 即時訊息發送
- 自動滾動到最新訊息
- 載入狀態指示
- 錯誤處理和重試

#### 數學公式支援
- LaTeX語法支援
- 即時數學公式渲染
- 響應式公式顯示

## 使用流程

1. **進入首頁**：選擇拍照或上傳圖片
2. **上傳圖片**：系統自動跳轉到提問頁
3. **輸入問題**：在文字框中輸入具體問題
4. **獲得解答**：AI分析並提供步驟式解題
5. **繼續對話**：可以追問或要求重新解釋

## 設計規範

### 色彩系統
- **主色調**: `#3B82F6` (藍色)
- **輔助色**: `#06B6D4` (青色)
- **背景色**: `#F9FAFB` (淺灰)
- **表面色**: `#FFFFFF` (白色)

### 間距系統
- **xs**: `0.5rem`
- **sm**: `0.75rem`
- **md**: `1rem`
- **lg**: `1.5rem`

### 圓角系統
- **標準圓角**: `0.75rem`
- **聊天氣泡**: `1rem` (圓角變體)

## 響應式設計

- **桌面版**: 最大寬度 `1200px`，居中顯示
- **平板版**: 自適應佈局
- **手機版**: 全寬顯示，優化觸控體驗

## 未來改進

1. **圖片OCR**: 整合文字識別功能
2. **語音輸入**: 支援語音提問
3. **歷史記錄**: 聊天記錄管理
4. **分享功能**: 解題結果分享
5. **收藏功能**: 重要解答收藏

## 技術依賴

```json
{
  "lucide-react": "^0.460.0",
  "katex": "^0.16.22",
  "rehype-katex": "^7.0.1",
  "react-markdown": "^9.0.1",
  "remark-math": "^6.0.0"
}
```

## 開發者說明

### 文件結構
```
app/solver/
├── page.tsx              # 主頁面
├── auth/                 # 認證相關
└── ...

components/
├── solver-chat.tsx       # 聊天組件
├── ui/                   # UI基礎組件
└── ...

app/globals.css           # 全局樣式
```

### 狀態管理
- 使用 React Hooks 管理本地狀態
- 通過 props 傳遞回調函數
- 保持組件間的鬆耦合

### 樣式指南
- 優先使用 Tailwind CSS 類名
- 自定義樣式放在 `globals.css`
- 保持設計系統的一致性

---

**版本**: v1.0  
**更新日期**: 2025-01-28  
**開發者**: AI Assistant 